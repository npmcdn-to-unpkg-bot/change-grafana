/*! grafana - v3.0.0-pre1 - 2016-02-22
 * Copyright (c) 2016 Torkel Ã–degaard; Licensed Apache-2.0 */

System.register(["angular","lodash"],function(a){var b,c,d;return{setters:[function(a){b=a},function(a){c=a}],execute:function(){d=function(){function a(a,b){this.$scope=a,this.$injector=b,this.panel=this.panelCtrl.panel,this.target.refId||(this.target.refId=this.getNextQueryLetter())}return a.prototype.getNextQueryLetter=function(){var a=this,b="ABCDEFGHIJKLMNOPQRSTUVWXYZ";return c["default"].find(b,function(b){return c["default"].every(a.panel.targets,function(a){return a.refId!==b})})},a.prototype.removeQuery=function(){this.panel.targets=c["default"].without(this.panel.targets,this.target),this.panelCtrl.refresh()},a.prototype.duplicateQuery=function(){var a=b["default"].copy(this.target);a.refId=this.getNextQueryLetter(),this.panel.targets.push(a)},a.prototype.moveQuery=function(a){var b=c["default"].indexOf(this.panel.targets,this.target);c["default"].move(this.panel.targets,b,b+a)},a.prototype.refresh=function(){this.panelCtrl.refresh()},a.prototype.toggleHideQuery=function(){this.target.hide=!this.target.hide,this.panelCtrl.refresh()},a}(),a("QueryCtrl",d)}}});