/*! grafana - v3.0.0-pre1 - 2016-02-22
 * Copyright (c) 2016 Torkel Ã–degaard; Licensed Apache-2.0 */

System.register(["lodash","app/plugins/sdk"],function(a){var b,c,d,e,f=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};return{setters:[function(a){b=a},function(a){c=a}],execute:function(){d={mode:"starred",query:"",limit:10,tags:[]},e=function(a){function c(c,e,f){a.call(this,c,e),this.backendSrv=f,b["default"].defaults(this.panel,d),this.panel.tag&&(this.panel.tags=[c.panel.tag],delete this.panel.tag)}return f(c,a),c.$inject=["$scope","$injector","backendSrv"],c.prototype.initEditMode=function(){a.prototype.initEditMode.call(this),this.modes=["starred","search"],this.icon="fa fa-star",this.addEditorTab("Options",function(){return{templateUrl:"public/app/plugins/panel/dashlist/editor.html"}})},c.prototype.refresh=function(){var a=this,b={limit:this.panel.limit};return"starred"===this.panel.mode?b.starred="true":(b.query=this.panel.query,b.tag=this.panel.tags),this.backendSrv.search(b).then(function(b){a.dashList=b,a.renderingCompleted()})},c.templateUrl="module.html",c}(c.PanelCtrl),a("DashListCtrl",e),a("PanelCtrl",e)}}});